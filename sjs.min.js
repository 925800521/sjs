(function(h,g){function m(a){return a._hash?a._hash:a._hash=untils.uniqueId()}function p(a,b){return RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)}function r(a,b){b=b?b:" ";return a==g?a:sjs.isArray(a)?a:a.split(b)}function q(a,b){b&&p(a,b)&&(a.className=a.className.replace(RegExp("(\\s|^)"+b),""))}function t(a,b){var c=m(a);if(n[c]||g)b?n[c][b]&&delete n[c][b]:delete n[c]}function u(a,b){if(!b||!a)return!1;b.success&&(a.onload=function(){var a=null;switch(b.dataType){case "json":case "script":a=
sjs.eval(this.responseText);break;default:a=this.response}b.success.call(b.context,a,this)});b.abort&&(a.onabort=function(){b.abort.call(b.context,this)});b.error&&(a.onerror=function(){b.error.call(b.context,this)});b.beforeSend&&(a.onloadstart=function(){b.beforeSend.call(b.context,this)});b.complete&&(a.onloadend=function(){b.complete.call(b.context,this)});b.progress&&(a.onprogress=function(a){b.progress.call(b.context,a)});b.upProgress&&(a.upload.onprogress=function(a){b.upProgress.call(b.context,
a)})}var s=h.document,v=h.$?h.$:g;wn=h.Navigator;wl=h.location;type=function(a){return a!=g?Object.prototype.toString.call(a):"undefined"};untils={noConflict:function(){v&&(h.$=v)},uniqueId:function(){var a=(new Date).getTime(),b=parseInt(1E5*Math.random());return 1E5*a+b},isArray:function(a){return"[object Array]"===type(a)},isBoolean:function(a){return"[object Boolean]"===type(a)},isString:function(a){return"[object String]"===type(a)},isFunction:function(a){return"[object Function]"===type(a)},
isNumeric:function(){return!isNaN(parseFloat(obj))&&isFinite(obj)},isXML:function(a){a=a.ownerDocument||a;return a.createElement("p").nodeName!==a.createElement("P").nodeName},isObject:function(a){return"[object Object]"===type(a)},isPlainObject:function(a){if(!a||!this.isObject(a)||a.nodeType||a==h)return!1;var b=null;for(b in a);return b===g||Object.prototype.hasOwnProperty.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},eval:function(a){return(new Function("return "+a))()},
isEmptyString:function(a){return/^\s*$/ig.test(a)},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},each:function(a,b){if(sjs.isArray(a))for(var c=0,d=a.length;c<d&&!1!==b.call(a,c,a[c]);c++);else for(c in a)if(a.hasOwnProperty(c)&&!1===b.call(a,c,a[c]))break},grep:function(a,b,c){var d=[],e=!0===c?!1:!0;a&&b&&sjs.each(a,function(c,j){b.call(a,j,c)===e&&d.push(j)});return d},merge:function(a,b){return a.concat(b)},map:function(a,b){if(a&&b){for(var c=[],d=0,e=a.length;d<e;d++){var f=b.call(a,
a[d],d);if(null==f)return!0;sjs.isArray(f)?sjs.merge(c,f):c.push(f)}a=c}return a},inArray:function(a,b,c){c=c==g?0:c;for(var d=b.length;c<d;c++)if(b[c]==a)return c;return-1},unique:function(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]=a[d];sjs.each(b,function(a,b){c.push(b)});return c},remove:function(a,b,c){var d=b;if(!0===c){var d=null,e;for(e in a)if(a[e]==b){d=e;break}}d!==g&&null!==d&&(sjs.isArray(a)&&a.splice(d,1),sjs.isPlainObject(a)&&delete a[d]);return a},JSONS:{parse:function(a){if("string"!==
typeof a||!a)return null;a=sjs.trim(a);return h.JSON?JSON.parse(a):sjs.eval(a)},stringify:function(a){if(!a)return"";if(h.JSON)return h.JSON.stringify(a);var b=[],c="";if("[object Array]"===type(a)){for(var d=0;d<a.length;d++)b.push(this.stringify(a[d]));c="["+b.join(",")+"]"}else if("[object Date]"===type(a))c="new Date("+a.getTime()+")";else if("[object RegExp]"===type(a)||"[object Function]"===type(a))c=a.toString();else if("[object Object]"===type(a)){for(d in a)a[d]="string"==typeof a[d]?'"'+
a[d]+'"':"object"===typeof a[d]?this.stringify(a[d]):a[d],b.push(d+":"+a[d]);c="{"+b.join(",")+"}"}return c},parseQuery:function(a){var b={};a=a.split("&");for(var c=0,d=a.length;c<d;c++)if(-1<a[c].indexOf("=")){var e=a[c].split("=");if(!/^\s*$/ig.test(b[0])){var f=e[1].trim();if("null"==f||"undefined"==f)f="";b[e[0]]=f}}return b},toQuery:function(a){var b="",c;for(c in a)b+=sjs.isEmptyString(b)?"":"&",b+=c+"="+(null==a[c]?"":a[c]);return b},count:function(a){var b=0,c;for(c in a)b++;return b}}};
sjs=function(a){return sjs.fn._init(a)};sjs.fn=sjs.prototype={selector:"",length:0,get:function(a){return this[a]},index:function(){for(var a=this[0],b=a.parentNode.childNodes,c=0,d=0,e=b.length;d<e;d++)if(1==b[d].nodeType){if(b[d]==a)return c;c++}return-1},_init:function(a){if(h==this)return new sjs(a);if(!a)return this;sjs.isFunction(a)&&document.addEventListener("DOMContentLoaded",function(){a.call(h,sjs)});a.nodeType&&(this[0]=a,this.length=1,m(a));if("string"===typeof a&&!("<"===a.charAt(0)&&
">"===a.charAt(a.length-1)&&3<=a.length)){var b=s.querySelectorAll(a);this.length=b.length;for(var c=0,d=b.length;c<d;c++)m(b[c]),this[c]=b[c];this.selector=a}return this}};sjs.extend=sjs.fn.extend=function(){var a=arguments[0]||{},b,c=arguments.length,d=!1,e=0,f,j;"boolean"===typeof a&&(e++,d=!0,a=arguments[e]||{});"object"!=typeof a&&(a={});for(c==e+1&&(a=this);e<c;e++)if(null!=(b=arguments[e]))for(var l in b)f=a[l],j=b[l],a!=j&&(d&&j&&(untils.isArray(j)||untils.isPlainObject(j))?(untils.isPlainObject(j)&&
(f=f&&untils.isArray(f)?f:{}),untils.isArray(j)&&(f=f&&untils.isPlainObject(f)?f:[]),a[l]=sjs.extend(d,f,j)):a[l]=j);return a};var n={},k={},w={on:function(){if(1<arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(sjs.isFunction(b))c=b,b=null;else if(!c||!sjs.isFunction(c))return this;"undefined"===typeof k[a]&&(k[a]={},document.addEventListener(a,function(a){k[a.type]&&sjs(a.target).trigger(a.type,a)},!1));this.each(function(d){d=m(d);"undefined"===typeof k[a][d]&&(k[a][d]=[]);
k[a][d].push({fn:c,data:b,cnt:0})})}return this},trigger:function(a){a&&k[a]&&this.each(function(b){for(var c=arguments[arguments.length-1],c=c.type?c:{type:a,target:b},f=m(b),f=k[a][f]||[],j=[],l=0,g=f.length;l<g;l++)c.data=f[l].data,c.firecnt=++f[l].cnt,!1===f[l].fn.call(this,c)&&j.push(l);for(c=j.length-1;0<=c;c--)f.splice(j[c],1)});try{var b=document.createEvent("Event");b.initEvent(a,!0,!0);el.dispatchEvent(b)}catch(c){}return this},off:function(a,b){this.each(function(c){var d=m(c);if(a&&k[a]){if(c=
k[a][d])if(b){for(var e=[],f=c.length-1;0<=f;f--)c[f].fn==b&&e.push(f);for(f=e.length-1;0<=f;f--)k[a][d].splice(f,1)}else delete k[a][d]}else sjs.each(k,function(a,b){delete b[d]})});return this},one:function(a,b,c){this.on(a,b,function(a){c&&c.call(this,a);return!1});return this},bind:this.on,unbind:this.off};sjs.extend(untils);sjs.extend({ajax:function(a,b){var c={async:!0,cache:!1,type:"GET",dataType:"html",mime:"text/html",data:{},charset:"utf-8",contentType:"application/x-www-form-urlencoded",
context:b,progress:null,upProgress:null,beforeSend:null,success:null,abort:null,error:null,complete:null};if(!sjs.isString(a))return!1;var d=(new Date).getTime(),c=b?sjs.extend(c,b):c,e=new XMLHttpRequest;a=-1<a.indexOf("?")?a+"&":a+"?";var f=c.data;a+=c.cache?"":"_t="+d;"get"==c.type.toLowerCase()&&(a+=sjs.JSONS.toQuery(c.data),f=null);if("blod"==c.dataType||"arraybuffer"==c.dataType)e.responseType=c.dataType;e?(u(e,c),e.open(c.type,a,c.async),e.setRequestHeader("Accept",c.mime),e.setRequestHeader("Content-Type",
c.contentType+"; charset="+c.charset+""),e.send(f)):sjs.isFunction(c.error)&&c.error("ajax\u4e0d\u88ab\u652f\u6301\uff01");return e},ajaxForm:function(a,b){$(a).each(function(a){if("form"==a.nodeName.toLowerCase()){var d=new FormData(a),e=new XMLHttpRequest;if(b&&b.data)for(var f in b.data)d.append(f,b.data[f]);u(e,b);e.open(a.method,a.action);e.send(d)}})},get:function(a,b,c,d){if(!a)return!1;sjs.isFunction(b)&&(d=c,c=b,b=null);return sjs.ajax(a,{success:c,data:b,dataType:d||"html"})},getJSON:function(a,
b,c){if(!a)return!1;sjs.isFunction(b)&&(c=b,b=null);return sjs.ajax(a,{success:c,data:b,dataType:"json"})},getScript:function(a,b){if(!a)return!1;var c=document.createElement("script");c.async=!0;c.src=a;c.onload=b;document.body.appendChild(c)},post:function(a,b,c,d){if(!a)return!1;sjs.isFunction(b)&&(d=c,c=b,b=null);return sjs.ajax(a,{type:"post",success:c,data:b,dataType:d})}});sjs.fn.extend({data:function(a,b){if(0<this.length)switch(arguments.length){case 0:case 1:var c=m(this[0]),c=n[c]||g;return a==
g?c:c&&c[a]?c[a]:g;default:this.each(function(c){c=m(c);n[c]||(n[c]={});n[c][a]=b})}return this},removeData:function(a){sjs.isString(a)&&!sjs.isEmptyString(a)&&(a=a.split(" "));return this.each(function(b){sjs.isArray(a)?sjs.each(a,function(a,d){t(b,d)}):t(b)})},html:function(a){if(0==this.length)return this;if(!a)return this[0].innerHTML;var b=sjs.isString(a)?a:null,c=sjs.isFunction(a);return this.each(function(d,e){if(c&&(b=a.call(this,e,this.innerHTML),!b))return!0;this.innerHTML=b})},val:function(a){return a==
g?this[0].value:this.each(function(b,c){if(sjs.isFunction(a)){var d=a.call(b,c,b.value);d!=g&&(b.value=d)}else b.value=a})},text:function(a){if(a)return this.each(function(b,d){if(sjs.isFunction(a)){var e=a.call(b,d,b.textContent);e!=g&&(b.textContent=e)}else b.textContent=a});var b="";this.each(function(a){b+=a.textContent});return b},css:function(a,b){if(a==g||0==this.length)return this;if(sjs.isString(a)){var c=sjs.isFunction(b);return b==g?h.getComputedStyle(this[0]).getPropertyValue(a)||"":this.each(function(d,
f){d.style[a]=c?b.call(this,f,h.getComputedStyle(this).getPropertyValue(a)||""):b})}if(sjs.isPlainObject(a)){var d=this;sjs.each(a,function(a,b){d.css(a,b)})}return this},attr:function(a,b){if(a)if(b)sjs.isFunction(b)?this.each(function(c,d){var e=c.getAttribute(a),e=b.call(c,d,e);e!=g&&c.setAttribute(a,e)}):this.each(function(c){c.setAttribute(a,b)});else{if(sjs.isString(a))return this[0].getAttribute(a);sjs.isPlainObject(a)&&this.each(function(b){sjs.each(a,function(a,e){b.setAttribute(a,e)})})}return this},
removeAttr:function(a){return this.each(function(b){b.removeAttribute(a)})},getBox:function(){if(h.HTMLElement&&!("getBoundingClientRect"in HTMLElement)){for(var a=s.documentElement.scrollTop,b=s.documentElement.scrollLeft,c=this[0].offsetLeft,d=this[0].offsetTop,e=this[0].offsetParent;null!=e;)c+=e.offsetLeft,d+=e.offsetTop,e=e.offsetParent;return{left:c-b,right:c+this[0].offsetWidth-b,top:d-a,bottom:d+this[0].offsetHeight-a,width:this[0].offsetWidth,height:this[0].offsetHeight}}a=this[0].getBoundingClientRect();
return{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top}},inBox:function(a,b){var c=!1;a=parseInt(a);b=parseInt(b);this.each(function(){var d=sjs(this).getBox();c=d.left<=a&&d.right>=a&&d.top<=b&&d.bottom>=b;if(!0==c)return!1});return c},each:function(a){for(var b=0;b<this.length&&!1!==a.call(this[b],this[b],b);b++);return this},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},addClass:function(a){if(a==
g||0==this.length)return this;var b=sjs.isFunction(a)?null:r(a);return this.each(function(c,d){var e=sjs.trim(c.className);if(null==b){var f=a.call(c,d,e);f&&!p(c,f)&&(c.className=e+" "+f)}else sjs.each(b,function(a,b){e=sjs.trim(c.className);b&&!p(c,b)&&(c.className=e+" "+b)})})},removeClass:function(a){if(0==this.length)return this;var b=sjs.isFunction(a)?null:r(a);return this.each(function(c,d){if(a==g)return c.className="";var e=sjs.trim(c.className);null==b?(e=a.call(c,d,e))&&p(c,e)&&q(c,e):
sjs.each(b,function(a,b){q(c,b)})})},toggleClass:function(a){if(a==g||0==this.length)return this;var b=sjs.isFunction(a)?null:r(a);return this.each(function(c,d){var e=sjs.trim(c.className),f="";if(null==b){if(f=a.call(c,d,e))p(c,f)?q(c,f):c.className=e+" "+f}else sjs.each(b,function(a,b){e=sjs.trim(c.className);p(c,b)?q(c,b):c.className=e+" "+b})})}});sjs.fn.extend(w);h.sjs=h.$=sjs})(window);
